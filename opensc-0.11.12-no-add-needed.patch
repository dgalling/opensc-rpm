diff -up opensc-0.11.12/src/pkcs11/Makefile.am.no-add-needed opensc-0.11.12/src/pkcs11/Makefile.am
--- opensc-0.11.12/src/pkcs11/Makefile.am.no-add-needed	2010-02-14 22:59:02.000000000 +0200
+++ opensc-0.11.12/src/pkcs11/Makefile.am	2010-02-14 22:59:09.000000000 +0200
@@ -23,6 +23,7 @@ OPENSC_PKCS11_LIBS = $(OPTIONAL_OPENSSL_
 	$(top_builddir)/src/scconf/libscconf.la
 
 libpkcs11_la_SOURCES = libpkcs11.c
+libpkcs11_la_LIBADD = $(LTLIB_LIBS)
 
 opensc_pkcs11_la_SOURCES = $(OPENSC_PKCS11_SRC) $(OPENSC_PKCS11_INC) hack-disabled.c
 opensc_pkcs11_la_LIBADD = $(OPENSC_PKCS11_LIBS)
diff -up opensc-0.11.12/src/pkcs11/Makefile.in.no-add-needed opensc-0.11.12/src/pkcs11/Makefile.in
--- opensc-0.11.12/src/pkcs11/Makefile.in.no-add-needed	2010-02-14 22:59:27.000000000 +0200
+++ opensc-0.11.12/src/pkcs11/Makefile.in	2010-02-14 22:59:50.000000000 +0200
@@ -82,10 +82,10 @@ am__base_list = \
 am__installdirs = "$(DESTDIR)$(libdir)" "$(DESTDIR)$(pkcs11dir)" \
 	"$(DESTDIR)$(openscincludedir)"
 LTLIBRARIES = $(lib_LTLIBRARIES) $(noinst_LTLIBRARIES)
-libpkcs11_la_LIBADD =
+am__DEPENDENCIES_1 =
+libpkcs11_la_DEPENDENCIES = $(am__DEPENDENCIES_1)
 am_libpkcs11_la_OBJECTS = libpkcs11.lo
 libpkcs11_la_OBJECTS = $(am_libpkcs11_la_OBJECTS)
-am__DEPENDENCIES_1 =
 am__DEPENDENCIES_2 = $(am__DEPENDENCIES_1) $(am__DEPENDENCIES_1) \
 	$(top_builddir)/src/pkcs15init/libpkcs15init.la \
 	$(top_builddir)/src/libopensc/libopensc.la \
@@ -348,6 +348,7 @@ OPENSC_PKCS11_LIBS = $(OPTIONAL_OPENSSL_
 	$(top_builddir)/src/scconf/libscconf.la
 
 libpkcs11_la_SOURCES = libpkcs11.c
+libpkcs11_la_LIBADD = $(LTLIB_LIBS)
 opensc_pkcs11_la_SOURCES = $(OPENSC_PKCS11_SRC) $(OPENSC_PKCS11_INC) \
 	hack-disabled.c $(am__append_1)
 opensc_pkcs11_la_LIBADD = $(OPENSC_PKCS11_LIBS)
diff -up opensc-0.11.12/src/tools/Makefile.am.no-add-needed opensc-0.11.12/src/tools/Makefile.am
--- opensc-0.11.12/src/tools/Makefile.am.no-add-needed	2009-12-13 11:14:26.000000000 +0200
+++ opensc-0.11.12/src/tools/Makefile.am	2010-02-14 22:57:35.000000000 +0200
@@ -22,6 +22,7 @@ LIBS = $(top_builddir)/src/libopensc/lib
 	$(top_builddir)/src/common/libcompat.la
 
 opensc_tool_SOURCES = opensc-tool.c util.c
+opensc_tool_LDADD = $(top_builddir)/src/scconf/libscconf.la
 piv_tool_SOURCES = piv-tool.c util.c
 piv_tool_LDADD = $(OPTIONAL_OPENSSL_LIBS)
 opensc_explorer_SOURCES = opensc-explorer.c util.c
@@ -39,6 +40,7 @@ pkcs15_init_SOURCES = pkcs15-init.c util
 pkcs15_init_LDADD = $(OPTIONAL_OPENSSL_LIBS) \
 	$(top_builddir)/src/pkcs15init/libpkcs15init.la
 cardos_tool_SOURCES = cardos-tool.c util.c
+cardos_tool_LDADD = $(OPTIONAL_OPENSSL_LIBS)
 eidenv_SOURCES = eidenv.c
 netkey_tool_SOURCES = netkey-tool.c
 netkey_tool_LDADD = $(OPTIONAL_OPENSSL_LIBS)
diff -up opensc-0.11.12/src/tools/Makefile.in.no-add-needed opensc-0.11.12/src/tools/Makefile.in
--- opensc-0.11.12/src/tools/Makefile.in.no-add-needed	2009-12-18 15:26:19.000000000 +0200
+++ opensc-0.11.12/src/tools/Makefile.in	2010-02-14 22:59:51.000000000 +0200
@@ -85,13 +85,13 @@ am__cardos_tool_SOURCES_DIST = cardos-to
 am_cardos_tool_OBJECTS = cardos-tool.$(OBJEXT) util.$(OBJEXT) \
 	$(am__objects_1)
 cardos_tool_OBJECTS = $(am_cardos_tool_OBJECTS)
-cardos_tool_LDADD = $(LDADD)
+am__DEPENDENCIES_1 =
+cardos_tool_DEPENDENCIES = $(am__DEPENDENCIES_1)
 am__cryptoflex_tool_SOURCES_DIST = cryptoflex-tool.c util.c \
 	versioninfo.rc
 am_cryptoflex_tool_OBJECTS = cryptoflex-tool.$(OBJEXT) util.$(OBJEXT) \
 	$(am__objects_1)
 cryptoflex_tool_OBJECTS = $(am_cryptoflex_tool_OBJECTS)
-am__DEPENDENCIES_1 =
 cryptoflex_tool_DEPENDENCIES = $(am__DEPENDENCIES_1)
 am__eidenv_SOURCES_DIST = eidenv.c versioninfo.rc
 am_eidenv_OBJECTS = eidenv.$(OBJEXT) $(am__objects_1)
@@ -111,7 +111,7 @@ am__opensc_tool_SOURCES_DIST = opensc-to
 am_opensc_tool_OBJECTS = opensc-tool.$(OBJEXT) util.$(OBJEXT) \
 	$(am__objects_1)
 opensc_tool_OBJECTS = $(am_opensc_tool_OBJECTS)
-opensc_tool_LDADD = $(LDADD)
+opensc_tool_DEPENDENCIES = $(top_builddir)/src/scconf/libscconf.la
 am__piv_tool_SOURCES_DIST = piv-tool.c util.c versioninfo.rc
 am_piv_tool_OBJECTS = piv-tool.$(OBJEXT) util.$(OBJEXT) \
 	$(am__objects_1)
@@ -390,6 +390,7 @@ dist_bin_SCRIPTS = cardos-info $(am__app
 AM_CFLAGS = $(OPTIONAL_OPENSSL_CFLAGS) $(OPTIONAL_READLINE_CFLAGS)
 INCLUDES = -I$(top_srcdir)/src/common -I$(top_builddir)/src/include
 opensc_tool_SOURCES = opensc-tool.c util.c $(am__append_3)
+opensc_tool_LDADD = $(top_builddir)/src/scconf/libscconf.la
 piv_tool_SOURCES = piv-tool.c util.c $(am__append_4)
 piv_tool_LDADD = $(OPTIONAL_OPENSSL_LIBS)
 opensc_explorer_SOURCES = opensc-explorer.c util.c $(am__append_5)
@@ -409,6 +410,7 @@ pkcs15_init_LDADD = $(OPTIONAL_OPENSSL_L
 	$(top_builddir)/src/pkcs15init/libpkcs15init.la
 
 cardos_tool_SOURCES = cardos-tool.c util.c $(am__append_11)
+cardos_tool_LDADD = $(OPTIONAL_OPENSSL_LIBS)
 eidenv_SOURCES = eidenv.c $(am__append_12)
 netkey_tool_SOURCES = netkey-tool.c $(am__append_13)
 netkey_tool_LDADD = $(OPTIONAL_OPENSSL_LIBS)
